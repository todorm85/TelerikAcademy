<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>jQuery</title>
    <link rel="stylesheet" href="">
    <script src="handlebars-v3.0.3.js"></script>
</head>
<body>

    <script id="tmpl" type="text/handlebars-tmpl">
        <div class="posts">
            {{#each posts}}
                <hr>
                <h1>{{@index}}</h1>
                <h2 class="post-title">{{title}}</h2>
                <p class="post-content">{{content}}</p>
                <br>
                {{#if author}}
                {{#with author}}
                    <span class="author">by {{name}}</span>
                {{/with}}
                {{/if}}
                <hr>
            {{/each}}
        </div>
    </script>

    <script>
        var posts = [];
        for (var i = 1; i < 10; i++) {
            posts.push({
                title: 'Title ' + (i),
                content: 'Lorem ipsum dolor sit amet.'
            });
            if (i%2) {
                posts[i-1].author = {
                    name: 'Author ' + i
                };
            }
        }
        
        var rawPostTmpl = document.getElementById('tmpl').innerHTML;
        var postTmpl = Handlebars.compile(rawPostTmpl);
        document.body.innerHTML += postTmpl({
            posts: posts
        });
    </script>
</body>
</html>